{"version":3,"sources":["components/PhotoCard/PhotoCard.module.css","components/Gallery/Gallery.module.css","components/SearchForm/SearchForm.module.css","components/LoardMore/LoardMore.module.css","components/App.module.css","components/Modal/Modal.module.css","components/PhotoCard/PhotoCard.js","components/Gallery/Gallery.js","components/SearchForm/SearchForm.js","components/LoardMore/LoardMore.js","components/Modal/Modal.js","services/api.js","components/App.js","index.js"],"names":["module","exports","PhotoCard","photo","webformatURL","likes","views","comments","downloads","largeImageURL","handleClickOpenModal","className","css","photoCard","src","alt","stats","statsItem","type","fullscreenButton","onClick","Gallery","images","gallery","map","elem","key","id","SearchForm","onChange","onSubmit","inputValue","searchForm","name","autoComplete","placeholder","value","LoardMore","button","Modal","overlayRef","createRef","handleKeypress","e","code","props","CloseModal","handleOverlayClick","current","target","handleCloseClick","window","addEventListener","this","removeEventListener","overlay","ref","role","modal","modalImg","modalButton","data-action","Component","BaseURL","fetchImages","query","page","queryURL","setting","process","pageURL","perPageURL","axios","get","App","state","isModalOpen","appRef","resetPage","setState","imagesAPI","then","data","hits","catch","error","fetchImagesLoardMore","prevState","handleQueryChange","handleSubmit","preventDefault","handleClickLoardMore","scrollToMyRef","scrollHeight","scrollTo","top","behavior","largeImage","prevProps","length","app","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bc9ec915.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"photoCard\":\"PhotoCard_photoCard__fVyrE\",\"stats\":\"PhotoCard_stats__QGF_0\",\"statsItem\":\"PhotoCard_statsItem__30dQW\",\"fullscreenButton\":\"PhotoCard_fullscreenButton__31gw5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__1X6vy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"SearchForm_searchForm__2mknI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"LoardMore_button__3_XCT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__2zfEs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__3pSgL\",\"modal\":\"Modal_modal__1krOn\",\"modalImg\":\"Modal_modalImg__3BReV\",\"modalButton\":\"Modal_modalButton__36_aW\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport css from './PhotoCard.module.css';\n\nconst PhotoCard = ({\n  photo: { webformatURL, likes, views, comments, downloads, largeImageURL },\n  handleClickOpenModal,\n}) => {\n  return (\n    <li className={css.photoCard}>\n      <img src={webformatURL} alt=\"img\" />\n      <div className={css.stats}>\n        <p className={css.statsItem}>\n          <i className=\"material-icons\">thumb_up</i>\n          {likes}\n        </p>\n        <p className={css.statsItem}>\n          <i className=\"material-icons\">visibility</i>\n          {views}\n        </p>\n        <p className={css.statsItem}>\n          <i className=\"material-icons\">comment</i>\n          {comments}\n        </p>\n        <p className={css.statsItem}>\n          <i className=\"material-icons\">cloud_download</i>\n          {downloads}\n        </p>\n      </div>\n      <div className=\"overlay\">\n        <button\n          type=\"button\"\n          className={css.fullscreenButton}\n          onClick={() => handleClickOpenModal(largeImageURL)}\n        >\n          <i className=\"material-icons\">zoom_out_map</i>\n        </button>\n      </div>\n    </li>\n  );\n};\n\nPhotoCard.propTypes = {\n  photo: PropTypes.shape({\n    webformatURL: PropTypes.string.isRequired,\n    likes: PropTypes.number.isRequired,\n    views: PropTypes.number.isRequired,\n    comments: PropTypes.number.isRequired,\n    downloads: PropTypes.number.isRequired,\n    largeImageURL: PropTypes.string.isRequired,\n  }).isRequired,\n  handleClickOpenModal: PropTypes.func.isRequired,\n};\n\nexport default PhotoCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PhotoCard from '../PhotoCard/PhotoCard';\nimport css from './Gallery.module.css';\n\nconst Gallery = ({ images, handleClickOpenModal }) => {\n  return (\n    <ul className={css.gallery}>\n      {images.map(elem => (\n        <PhotoCard\n          key={elem.id}\n          photo={elem}\n          handleClickOpenModal={handleClickOpenModal}\n        />\n      ))}\n    </ul>\n  );\n};\n\nGallery.propTypes = {\n  images: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n  handleClickOpenModal: PropTypes.func.isRequired,\n};\n\nexport default Gallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport css from './SearchForm.module.css';\n\nconst SearchForm = ({ onChange, onSubmit, inputValue }) => {\n  return (\n    <>\n      <form className={css.searchForm} onSubmit={onSubmit}>\n        <input\n          name=\"inputValue\"\n          onChange={onChange}\n          type=\"text\"\n          autoComplete=\"off\"\n          placeholder=\"Search images...\"\n          value={inputValue}\n        />\n      </form>\n    </>\n  );\n};\n\nSearchForm.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  inputValue: PropTypes.string.isRequired,\n};\n\nexport default SearchForm;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport css from './LoardMore.module.css';\n\nconst LoardMore = ({ onClick }) => {\n  return (\n    <button type=\"button\" className={css.button} onClick={onClick} value=\"name\">\n      LoardMore\n    </button>\n  );\n};\n\nLoardMore.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default LoardMore;\n","import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport css from './Modal.module.css';\n\nexport default class Modal extends Component {\n  overlayRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeypress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeypress);\n  }\n\n  handleKeypress = e => {\n    if (e.code !== 'Escape') return;\n    this.props.CloseModal();\n  };\n\n  handleOverlayClick = e => {\n    const { current } = this.overlayRef;\n    if (current && e.target !== current) {\n      return;\n    }\n    this.props.CloseModal();\n  };\n\n  handleCloseClick = () => {\n    this.props.CloseModal();\n  };\n\n  render() {\n    const { largeImageURL } = this.props;\n    return (\n      <div\n        className={css.overlay}\n        ref={this.overlayRef}\n        onClick={this.handleOverlayClick}\n        role=\"presentation\"\n      >\n        <div className={css.modal}>\n          <img src={largeImageURL} alt=\"img\" className={css.modalImg} />\n        </div>\n        <button\n          type=\"button\"\n          className={css.modalButton}\n          data-action=\"close-modal\"\n          onClick={this.handleCloseClick}\n        >\n          <i className=\"material-icons\">close</i>\n        </button>\n      </div>\n    );\n  }\n}\n\nModal.propTypes = {\n  CloseModal: PropTypes.func.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n};\n","/* eslint-disable import/prefer-default-export */\nimport axios from 'axios';\n\nconst BaseURL = 'https://pixabay.com/api/';\n\nexport const fetchImages = (query = 'dog', page = 1) => {\n  const queryURL = `&q=${query}`;\n  const setting = '?image_type=photo&orientation=horizontal';\n  const key = `&key=${process.env.REACT_APP_APIKEY}`;\n  const pageURL = `&page=${page}`;\n  const perPageURL = '&per_page=12';\n  return axios.get(BaseURL + setting + queryURL + pageURL + perPageURL + key);\n};\n","import React, { Component, createRef } from 'react';\nimport Gallery from './Gallery/Gallery';\nimport SearchForm from './SearchForm/SearchForm';\nimport LoardMore from './LoardMore/LoardMore';\nimport Modal from './Modal/Modal';\nimport * as imagesAPI from '../services/api';\nimport css from './App.module.css';\n\nexport default class App extends Component {\n  state = {\n    inputValue: '',\n    images: [],\n    query: '',\n    page: 1,\n    isModalOpen: false,\n    largeImageURL: '',\n  };\n\n  appRef = createRef();\n\n  componentDidMount() {\n    this.fetchImages();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { query, images, page } = this.state;\n    if (query !== prevState.query) {\n      this.resetPage();\n    } else if (page > 1 && prevState.images.length !== images.length) {\n      this.scrollToMyRef();\n    }\n  }\n\n  resetPage = () => {\n    this.setState({ page: 1 });\n  };\n\n  fetchImages = query => {\n    imagesAPI\n      .fetchImages(query)\n      .then(({ data }) => this.setState({ images: data.hits }))\n      .catch(error => this.setState(error));\n  };\n\n  fetchImagesLoardMore = (query, page) => {\n    imagesAPI\n      .fetchImages(query, page)\n      .then(({ data }) =>\n        this.setState(prevState => ({\n          images: [...prevState.images, ...data.hits],\n        })),\n      )\n      .catch(error => this.setState(error));\n  };\n\n  handleQueryChange = e => {\n    this.setState({ inputValue: e.target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { inputValue } = this.state;\n    this.setState({ query: inputValue }, () => {\n      this.setState({ inputValue: '' });\n      const { query } = this.state;\n      this.fetchImages(query);\n    });\n  };\n\n  handleClickLoardMore = () => {\n    this.setState(\n      prevState => ({ page: prevState.page + 1 }),\n      () => {\n        const { query, page } = this.state;\n        this.fetchImagesLoardMore(query, page);\n      },\n    );\n  };\n\n  scrollToMyRef = () => {\n    const { scrollHeight } = this.appRef.current;\n    window.scrollTo({\n      top: scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  handleClickOpenModal = largeImage => {\n    this.setState({ isModalOpen: true, largeImageURL: largeImage });\n  };\n\n  CloseModal = () => this.setState({ isModalOpen: false });\n\n  render() {\n    const { images, inputValue, isModalOpen, largeImageURL } = this.state;\n    return (\n      <div className={css.app} ref={this.appRef}>\n        <SearchForm\n          onChange={this.handleQueryChange}\n          onSubmit={this.handleSubmit}\n          inputValue={inputValue}\n        />\n        {images.length > 0 && (\n          <Gallery\n            images={images}\n            handleClickOpenModal={this.handleClickOpenModal}\n          />\n        )}\n        <LoardMore onClick={this.handleClickLoardMore} />\n        {isModalOpen && (\n          <Modal CloseModal={this.CloseModal} largeImageURL={largeImageURL} />\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}